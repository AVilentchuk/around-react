{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","assets/icons/Logo_vector.svg","components/Header.js","components/Card.js","assets/images/avatar_photo.png","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/FormValidator.js","utils/loader.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","customFetch","url","properties","fetch","then","response","ok","json","Promise","reject","status","statusText","api","groupId","apiKey","baseUrl","this","headers","authorization","cardData","method","body","JSON","stringify","name","link","cardId","about","_id","cohort","avatarLink","avatar","Header","className","src","logo","alt","Card","onClick","onCardLike","onCardDelete","currentUser","useContext","tooltip","createRef","likes","id","liked","some","like","useState","isTooltipShown","setIsTooltipShown","useEffect","current","clientWidth","scrollWidth","owner","type","ref","style","visibility","length","Main","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","onEnlargeAvatarClick","onCardClick","handleCardLike","cardsData","onDeleteClick","profilePhoto","map","card","item","Footer","ImagePopup","navigation","targetObj","isOpen","onClose","useKey","goLeft","goRight","navigationArrows","event","stopPropagation","FormValidator","formElement","resetValidation","inputStatus","_settings","_inputList","forEach","input","_deactivateError","classList","remove","_controlSubmit","_element","errorField","nextElementSibling","inputErrorActive","textContent","_activateError","message","add","formStatus","submitSelector","disabledButton","submitButton","_formElement","querySelector","setAttribute","removeAttribute","_checkIfInputValid","evt","target","validity","valid","validationMessage","_setEventListeners","formInput","Array","from","querySelectorAll","addEventListener","preventDefault","getButtonText","buttonText","tail","button","test","exec","toString","replace","PopupWithForm","children","formName","formHeader","onSubmit","validate","form","setForm","formRef","useRef","buttonRef","validatedForm","enableValidation","margin","e","dots","completeTimeDelay","buttonSelector","clickHandler","callbackEnd","onError","onSuccess","interval","count","buttonStateProcessing","buttonStateComplete","intervalController","setInterval","res","clearInterval","setTimeout","catch","console","log","finally","loader","EditProfilePopup","updateCurrentUser","setName","description","setDescription","windowId","Object","assign","htmlFor","value","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","avatarInput","AddPlacePopup","addNewCard","setLink","ConfirmPopup","confirmDelete","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEnlargeAvatarPopupOpen","setIsEnlargeAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCardsData","key","callback","condition","callbackRef","document","handle","removeEventListener","code","getUserInfo","a","getProfile","callData","getCards","getInitialCards","dislikePhoto","newCardData","result","likePhoto","handleDeleteCard","deleteCardPost","filter","handleAddCard","postNewCard","Cards","concat","error","handleClose","handleUpdateUserData","data","updateProfile","handleUpdateAvatarImage","updateProfilePhoto","index","findIndex","parseInt","Provider","cardClicked","setUserData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.874315e4.chunk.js","sourcesContent":["import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","const customFetch = (url, properties) =>\n  fetch(url, properties).then((response) => {\n    if (response.ok) return response.json();\n    return Promise.reject(\n      `Failed with status:( ${response.status} ${response.statusText} )`\n    );\n  });\n\nclass Api {\n  constructor({ groupId, apiKey, baseUrl }) {\n    this.groupId = groupId;\n    this.apiKey = apiKey;\n    this.baseUrl = baseUrl;\n  }\n\n  getInitialCards() {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  postNewCard(cardData) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/`, {\n      method: \"POST\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${cardData.name}`,\n        link: `${cardData.link}`,\n      }),\n    });\n  }\n\n  deleteCardPost(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  getProfile() {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  updateProfile({ name, about }) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`,\n        _id: `${this.apiKey}`,\n        cohort: `${this.groupId}`,\n      }),\n    });\n  }\n\n  updateProfilePhoto(avatarLink) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: `${avatarLink}`,\n      }),\n    });\n  }\n\n  likePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  dislikePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"Delete\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n}\nconst options = {\n  baseUrl: \"https://around.nomoreparties.co/v1/\",\n  apiKey: \"69483cc0-2fd4-4d47-b549-ff7c13f67c88\",\n  groupId: \"group-12\",\n};\n\nconst api = new Api(options);\nexport default api;\n","export default __webpack_public_path__ + \"static/media/Logo_vector.e57222ff.svg\";","import logo from \"../assets/icons/Logo_vector.svg\";\n\nconst Header = () => {\n  return (\n    <header className='header'>\n      <img className='header__logo' src={logo} alt=\"site's logo\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import { useState, useEffect, createRef, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ cardData, onClick, onCardLike, onCardDelete }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const tooltip = createRef();\n  const { name, likes, link, _id: id } = cardData;\n\n  const liked = likes.some((like) => like._id === currentUser._id);\n\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n\n  useEffect(() => {\n    setIsTooltipShown(\n      tooltip.current.clientWidth < tooltip.current.scrollWidth\n    );\n  }, [tooltip]);\n\n  const handleLikeClick = () => onCardLike(id, liked);\n\n  function handleClick() {\n    return onClick(cardData);\n  }\n\n  return (\n    <div className='card'>\n      {cardData.owner._id === currentUser._id && (\n        <button\n          className='button button_type_delete'\n          type='click'\n          onClick={() => onCardDelete(cardData)}\n        ></button>\n      )}\n      <img\n        alt={name}\n        src={link}\n        className='card__image'\n        onClick={handleClick}\n      />\n      <div className='card__footer'>\n        <h2 ref={tooltip} className='card__text'>\n          {name}\n        </h2>\n        <div className='card__likes-container'>\n          <button\n            className={`button card__like-button ${\n              liked && \"card__like-button_active\"\n            }`}\n            id='likebtn'\n            aria-label='heart icon (like)'\n            onClick={handleLikeClick}\n          />\n          <label\n            className='card__like-label'\n            style={{ visibility: likes.length ? \"visible\" : \"hidden\" }}\n          >\n            {likes.length}\n          </label>\n        </div>\n        {isTooltipShown && <div className='card__overflow-tooltip'>{name}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/avatar_photo.15862bec.png\";","import Card from \"./Card\";\nimport profilePhoto from \"../assets/images/avatar_photo.png\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  onEditProfileClick,\n  onAddPlaceClick,\n  onEditAvatarClick,\n  onEnlargeAvatarClick,\n  onCardClick,\n  handleCardLike,\n  cardsData,\n  onDeleteClick,\n}) => {\n  //card Component template\n  const renderCard = (item) => (\n    <Card\n      onClick={onCardClick}\n      cardData={item}\n      onCardLike={handleCardLike}\n      onCardDelete={onDeleteClick}\n      key={item._id}\n    />\n  );\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div>\n      <main>\n        <section className='profile'>\n          <div className='profile__photo-container'>\n            <img\n              className='profile__photo'\n              src={currentUser ? currentUser.avatar : profilePhoto}\n              alt={\n                currentUser\n                  ? `Photo of ${currentUser.name}`\n                  : \"Photo of Kristine Weiss\"\n              }\n            />\n            <div className='profile__photo-buttons'>\n              <button\n                className='button button_type_edit-profile-image'\n                onClick={onEditAvatarClick}\n              ></button>\n              <button\n                className='button button_type_enlarge-profile-image'\n                onClick={() => {\n                  onEnlargeAvatarClick(currentUser);\n                }}\n              ></button>\n            </div>\n          </div>\n          <div className='profile__description'>\n            <h1 className='profile__name'>\n              {currentUser ? currentUser.name : \"Kristine Weiss\"}\n            </h1>\n            <button\n              className='button profile__button-edit'\n              type='button'\n              aria-label='Edit profile'\n              onClick={onEditProfileClick}\n            ></button>\n            <p className='profile__about'>\n              {currentUser\n                ? currentUser.about\n                : \"Travel guide, food enthusiastic and culture lover\"}\n            </p>\n          </div>\n          <button\n            className='button profile__button-add'\n            type='button'\n            aria-label='Add or create new profile'\n            onClick={onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className='locations'>\n          {cardsData.map((card) => renderCard(card))}\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <div>\n      <footer className='footer'>\n        <p className='footer__about'>&copy; 2021 Around The U.S.</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default Footer;\n","const ImagePopup = ({\n  navigation,\n  targetObj,\n  isOpen,\n  onClose,\n  id,\n  useKey,\n  goLeft,\n  goRight,\n}) => {\n  const navigationArrows = [\n    <div\n      key='leftNav'\n      className='navigation-arrow navigation-arrow_left'\n      onClick={goLeft}\n    ></div>,\n    <div\n      key='rightNav'\n      className='navigation-arrow navigation-arrow_right'\n      onClick={goRight}\n    ></div>,\n  ];\n\n  useKey(\"ArrowRight\", goRight, isOpen);\n  useKey(\"ArrowLeft\", goLeft, isOpen);\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <div\n      className={`popup popup_gallery ${isOpen ? \"popup_active\" : \"\"}`}\n      onClick={onClose}\n    >\n      <div\n        className='popup__gallery'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <img\n          className='popup__img'\n          src={\n            !targetObj\n              ? null\n              : targetObj.link\n              ? targetObj.link\n              : targetObj.avatar\n              ? targetObj.avatar\n              : \"\"\n          }\n          alt={!targetObj ? null : targetObj.name}\n        />\n        <h2 className='popup__place-name'>\n          {!targetObj ? null : targetObj.name}\n        </h2>\n        {navigation && navigationArrows}\n      </div>\n    </div>\n  );\n};\n\nexport default ImagePopup;\n","//FormValidator Class - > Added\nclass FormValidator {\n  constructor(formElement) {\n    this._settings = {\n      formInput: \"form__input\",\n      inputStatus: \"form__input_status\",\n      submitSelector: \"button_type_submit\",\n      disabledButton: \"button_disabled\",\n      inputErrorActive: \"form__input-error_active\",\n    };\n    this._formElement = formElement;\n  }\n  //<<START>>public methods of form validation.<<START>>\n  enableValidation() {\n    return this._setEventListeners();\n  }\n\n  resetValidation = () => {\n    const { inputStatus } = this._settings;\n    this._inputList.forEach((input) => {\n      this._deactivateError(input);\n      input.classList.remove(`${inputStatus}`);\n    });\n    this._controlSubmit(true);\n    return this._element;\n  };\n  //<<END>>public methods of form validation.<<END>>\n  //<<START>> Error messages and button controls <<START>>\n  _deactivateError = (input) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.remove(this._settings.inputErrorActive);\n    errorField.textContent = \"\";\n  };\n  _activateError = (input, message) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.add(this._settings.inputErrorActive);\n    errorField.textContent = message;\n  };\n  //Controls the status of the submit button, gets form inputs status from checkIfInputValid\n  _controlSubmit = (formStatus) => {\n    const { submitSelector, disabledButton } = this._settings;\n    const submitButton = this._formElement.querySelector(`.${submitSelector}`);\n\n    if (formStatus) {\n      submitButton.classList.add(disabledButton);\n      submitButton.setAttribute(\"disabled\", true);\n    } else {\n      submitButton.classList.remove(disabledButton);\n      submitButton.removeAttribute(\"disabled\");\n    }\n  };\n  _checkIfInputValid = (evt) => {\n    const input = evt.target;\n    input.classList.add(this._settings.inputStatus);\n    if (!input.validity.valid) {\n      this._activateError(input, input.validationMessage);\n    } else {\n      this._deactivateError(input);\n    }\n\n    const formStatus = this._inputList.some((item) => !item.validity.valid);\n    return this._controlSubmit(formStatus);\n  };\n  //<<END>> Error messages control <<END>>\n  //<<START>> Listeners control <<START>>\n  _setEventListeners = () => {\n    const { formInput } = this._settings;\n    this._inputList = Array.from(\n      this._formElement.querySelectorAll(`.${formInput}`)\n    );\n    this._formElement.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n    });\n    this._formElement.addEventListener(\"reset\", this.resetValidation);\n    this._inputList.forEach((input) => {\n      input.addEventListener(\"input\", this._checkIfInputValid);\n    });\n    return this._element;\n  };\n\n  //<<END>> Listeners control <<END>>\n}\n\nexport default FormValidator;\n","function getButtonText(buttonText, tail, button) {\n  return /\\w*e\\b/.test(buttonText)\n    ? /\\w*e\\b/.exec(buttonText).toString().replace(/\\w\\b/, tail)\n    : button.textContent.toString() + tail;\n}\n\nexport const loader = ({\n  dots,\n  completeTimeDelay,\n  buttonSelector,\n  clickHandler,\n  callbackEnd = () => {},\n  onError = () => {},\n  onSuccess = () => {},\n}) => {\n  const { interval, count } = dots;\n  const button = buttonSelector;\n  button.setAttribute(\"disabled\", true);\n  const buttonText = button.textContent.toString();\n  const buttonStateProcessing = getButtonText(buttonText, \"ing\", button);\n  const buttonStateComplete = getButtonText(buttonText, \"ed\", button);\n\n  button.textContent = buttonStateProcessing;\n  const loop = () => {\n    button.textContent =\n      button.textContent.length > buttonStateProcessing.length + count\n        ? `${buttonStateProcessing}`\n        : button.textContent + \".\";\n  };\n  let intervalController = setInterval(loop, interval);\n\n  clickHandler()\n    .then((res) => {\n      clearInterval(intervalController);\n      button.textContent = `${buttonStateComplete} successfully`;\n      setTimeout(() => {\n        onSuccess();\n      }, completeTimeDelay);\n    })\n    .catch((res) => {\n      button.textContent = `Failed`;\n      setTimeout(\"\", completeTimeDelay * 2);\n      clearInterval(intervalController);\n      console.log(res);\n    })\n    .finally(() => {\n      setTimeout(() => {\n        callbackEnd();\n      }, completeTimeDelay);\n\n      setTimeout(() => {\n        button.textContent = `${buttonText}`;\n        button.removeAttribute(\"disabled\");\n      }, completeTimeDelay * 2);\n    });\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport FormValidator from \"../utils/FormValidator\";\nimport { loader } from \"../utils/loader.js\";\n\nconst PopupWithForm = ({\n  children,\n  formName,\n  formHeader,\n  onClose,\n  id,\n  isOpen,\n  onSubmit,\n  validate,\n  buttonText,\n}) => {\n  const [form, setForm] = useState();\n  const formRef = useRef();\n  const buttonRef = useRef();\n\n  useEffect(() => {\n    if (validate) {\n      const validatedForm = new FormValidator(formRef.current);\n      validatedForm.enableValidation();\n      setForm(validatedForm);\n    } else { formRef.current.style.margin = \"0 auto\" }\n  }, [validate]);\n\n  useEffect(() => {\n    if (form) form.resetValidation();\n  }, [isOpen, form]);\n\n  return (\n    <div className={`popup ${isOpen ? \"popup_active\" : \"\"}`} onClick={onClose}>\n      <div\n        className='popup__window'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <h2 className='popup__title'>{formHeader}</h2>\n        <form\n          className='form'\n          ref={formRef}\n          name={`${formName}`}\n          onSubmit={(e) => {\n            e.preventDefault();\n            loader({\n              dots: {\n                interval: 75,\n                count: 4,\n              },\n              completeTimeDelay: 400,\n              buttonSelector: buttonRef.current,\n              clickHandler: () => {\n                return onSubmit();\n              },\n              onSuccess: () => {\n                onClose();\n              },\n            });\n          }}\n        >\n          {children}\n          <button\n            className='button button_type_submit'\n            type='submit'\n            ref={buttonRef}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nconst EditProfilePopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const formSubmit = () => {\n    return updateCurrentUser(\n      Object.assign({}, currentUser, { name: name, about: description })\n    );\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-edit'\n      formHeader='Edit Profile'\n      formName='editWindow'\n      onSubmit={formSubmit}\n      validate={true}\n      buttonText=\"Save\"\n    >\n      <label htmlFor='name' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='name'\n          id='name'\n          value={name || \"\"}\n          placeholder='Insert name here...'\n          required\n          minLength='2'\n          maxLength='40'\n          onChange={(e) => setName(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n      <label htmlFor='about' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='about'\n          id='about'\n          value={description || \"\"}\n          placeholder='Insert job here...'\n          required\n          minLength='2'\n          maxLength='200'\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import { useContext, useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const avatarInput = useRef();\n\n  //fills the field on open with current value.\n  useEffect(() => {\n    avatarInput.current.value = currentUser.avatar;\n  }, [currentUser, isOpen]);\n\n  const formSubmit = () => {\n    return updateCurrentUser(\n      Object.assign({}, currentUser, { avatar: avatarInput.current.value })\n    );\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-editpic'\n      formHeader='Change profile picture'\n      formName='editprofpic'\n      onSubmit={formSubmit}\n      validate={true}\n      buttonText=\"Update\"\n    >\n      <label htmlFor='pictureurl' className='form__field'>\n        <input\n          ref={avatarInput}\n          className='form__input'\n          type='url'\n          name='avatar'\n          id='pictureurl'\n          placeholder='insert url for picture'\n          required\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, addNewCard, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const fromSubmit = () => {\n    return addNewCard({ name, link });\n  };\n\n  useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]);\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-add'\n      formHeader='New place'\n      formName='addWindow'\n      onSubmit={fromSubmit}\n      validate={true}\n      buttonText='Add'\n    >\n      <label htmlFor='place-title' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='name'\n          id='place-title'\n          placeholder='Title'\n          value={name}\n          required\n          minLength='1'\n          maxLength='30'\n          onChange={(e) => setName(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n      <label htmlFor='image-link' className='form__field'>\n        <input\n          className='form__input'\n          type='url'\n          name='link'\n          id='image-link'\n          placeholder='Image link'\n          value={link}\n          required\n          onChange={(e) => setLink(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmPopup = ({ isOpen, onClose, confirmDelete }) => {\n  const onConfirm = () => {\n    return confirmDelete();\n  };\n\n  return (\n    <PopupWithForm\n      formName='confirmForm'\n      isOpen={isOpen}\n      id='w-confirm'\n      onClose={onClose}\n      formHeader='Are you sure?'\n      onSubmit={onConfirm}\n      validate={false}\n      buttonText='Delete'\n    />\n  );\n};\n\nexport default ConfirmPopup;\n","import { useEffect, useState, useRef } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\n\nfunction App() {\n  //isOpened\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEnlargeAvatarPopupOpen, setIsEnlargeAvatarPopupOpen] =\n    useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  //data holding states\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardsData, setCardsData] = useState([]);\n\n  //function to add event listeners\n  function useKey(key, callback, condition) {\n    const callbackRef = useRef(callback);\n    useEffect(() => {\n      callbackRef.current = callback;\n    });\n\n    useEffect(() => {\n      if (!condition) {\n        return;\n      }\n      function handle(event) {\n        if (event.code === key) {\n          callbackRef.current(event);\n        }\n      }\n      document.addEventListener(\"keydown\", handle);\n      return () => document.removeEventListener(\"keydown\", handle);\n    }, [key, condition]);\n  }\n  //<<START>>data fetching functions <<START>>\n  const getUserInfo = async () => {\n    try {\n      const callData = await api.getProfile();\n      callData && setCurrentUser(callData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCards = async () => {\n    try {\n      const callData = await api.getInitialCards();\n      callData && setCardsData(callData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  //<<END>>data fetching functions <<END>>\n  //<<START>>Card actions handles<<START>>\n  const handleCardLike = async (id, status) => {\n    if (status)\n      try {\n        const result = await api\n          .dislikePhoto(id)\n          .then((newCardData) =>\n            cardsData.map(\n              (card) =>\n                (card = newCardData._id === card._id ? newCardData : card)\n            )\n          );\n        setCardsData(result);\n      } catch (error) {\n        console.log(error);\n      }\n    else\n      try {\n        const result = await api\n          .likePhoto(id)\n          .then((newCardData) =>\n            cardsData.map(\n              (card) =>\n                (card = newCardData._id === card._id ? newCardData : card)\n            )\n          );\n        setCardsData(result);\n      } catch (error) {\n        console.log(error);\n      }\n  };\n\n  const handleDeleteCard = async () => {\n    const id = selectedCard._id;\n    try {\n      await api.deleteCardPost(id);\n      return setCardsData(cardsData.filter((card) => card._id !== id));\n    } catch (error) {\n      return Promise.reject(error)\n    }\n  };\n\n  const handleAddCard = async (card) => {\n    try {\n      await api.postNewCard(card).then((res) =>\n        setCardsData((Cards) => {\n          return [res].concat(Cards)\n        })).catch((error) => Promise.reject(error))\n    } catch (error) {\n      return Promise.reject(error)\n    }\n  };\n  //<<END>>Card actions handles<<END>>\n  //<<START>>Window openers & closers<<START>>\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEnlargeAvatarClick = (currentUser) => {\n    setCurrentUser(currentUser);\n    setIsEnlargeAvatarPopupOpen(true);\n  };\n\n  const handleCardClick = (cardClicked) => {\n    setSelectedCard(cardClicked);\n    setIsImagePopupOpen(true);\n  };\n  const handleDeleteClick = (cardClicked) => {\n    setSelectedCard(cardClicked);\n    setIsConfirmPopupOpen(true);\n  };\n\n  // };\n  const handleClose = () => {\n    setIsImagePopupOpen(false);\n    setIsEnlargeAvatarPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  };\n  //<<END>>Window openers & closers<<END>>\n  //<<START>>Profile updating handlers<<START>>\n  const handleUpdateUserData = async (data) => {\n    try {\n      return api\n        .updateProfile(data)\n        .then((res) => { setCurrentUser(res) })\n        .catch((error) => Promise.reject(error));\n\n    } catch (error) { return Promise.reject(error) }\n  };\n\n  const handleUpdateAvatarImage = async (data) => {\n    try {\n      return await api\n        .updateProfilePhoto(data.avatar).then(res => { setCurrentUser(res) })\n        .catch((error) => Promise.reject(error))\n\n    } catch (error) { return Promise.reject(error) }\n  };\n  //<<END>>Profile updating handlers<<END>>\n  //<<START>>Navigation handlers<<START>>\n  const goLeft = () => {\n    let index = cardsData.findIndex((item) => item === selectedCard);\n    index =\n      parseInt(index - 1) >= 0 ? parseInt(index - 1) : cardsData.length - 1;\n    setSelectedCard(cardsData[index]);\n  };\n  const goRight = () => {\n    let index = cardsData.findIndex((item) => item === selectedCard);\n    index =\n      parseInt(index + 1) <= cardsData.length - 1 ? parseInt(index + 1) : 0;\n    setSelectedCard(cardsData[index]);\n  };\n  //<<END>>Navigation handlers<<END>>\n\n  //initialization\n  useEffect(() => {\n    getCards();\n    getUserInfo();\n  }, []);\n\n  return (\n    <div className='page'>\n      <div className='page__wrap'>\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            onEnlargeAvatarClick={handleEnlargeAvatarClick}\n            onCardClick={handleCardClick}\n            setUserData={handleUpdateUserData}\n            handleCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n            cardsData={cardsData}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateUserData}\n            useKey={useKey}\n          />\n\n          <AddPlacePopup\n            isOpen={isPlacePopupOpen}\n            onClose={handleClose}\n            addNewCard={handleAddCard}\n            useKey={useKey}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateAvatarImage}\n            useKey={useKey}\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={handleClose}\n            id='w-img'\n            targetObj={selectedCard}\n            navigation={true}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ImagePopup\n            isOpen={isEnlargeAvatarPopupOpen}\n            onClose={handleClose}\n            id='w-piclrg'\n            targetObj={currentUser}\n            navigation={false}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ConfirmPopup\n            isOpen={isConfirmPopupOpen}\n            onClose={handleClose}\n            confirmDelete={handleDeleteCard}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}