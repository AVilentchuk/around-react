{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","assets/icons/Logo_vector.svg","components/Header.js","components/Likes.js","components/Card.js","assets/images/avatar_photo.png","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/FormValidator.js","utils/loader.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","customFetch","url","properties","fetch","then","response","ok","json","Promise","reject","status","statusText","api","groupId","apiKey","baseUrl","this","headers","authorization","cardData","method","body","JSON","stringify","name","link","cardId","about","_id","cohort","avatarLink","avatar","Header","className","src","logo","alt","Likes","likes","target","isOver","likesRef","createRef","position","useMousePosition","selfLike","some","item","useState","likesUpdated","setLikesUpdated","useEffect","current","style","top","y","offsetHeight","window","innerWidth","left","x","offsetWidth","length","renderLike","like","ref","map","slice","Card","onClick","onCardLike","onCardDelete","currentUser","useContext","setIsOver","tooltip","id","liked","isTooltipShown","setIsTooltipShown","clientWidth","scrollWidth","owner","type","onMouseLeave","onMouseOver","visibility","Main","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","onEnlargeAvatarClick","onCardClick","handleCardLike","cardsData","onDeleteClick","profilePhoto","card","Footer","ImagePopup","navigation","targetObj","isOpen","onClose","useKey","goLeft","goRight","navigationArrows","event","stopPropagation","FormValidator","formElement","resetValidation","inputStatus","_settings","_inputList","forEach","input","_deactivateError","classList","remove","_controlSubmit","_element","errorField","nextElementSibling","inputErrorActive","textContent","_activateError","message","add","formStatus","submitSelector","disabledButton","submitButton","_formElement","querySelector","setAttribute","removeAttribute","_checkIfInputValid","evt","validity","valid","validationMessage","_setEventListeners","formInput","Array","from","querySelectorAll","addEventListener","preventDefault","getButtonText","buttonText","tail","button","test","exec","toString","replace","PopupWithForm","children","formName","formHeader","onSubmit","validate","form","setForm","formRef","useRef","buttonRef","validatedForm","enableValidation","margin","e","dots","completeTimeDelay","buttonSelector","clickHandler","callbackEnd","onError","onSuccess","interval","count","buttonStateProcessing","buttonStateComplete","intervalController","setInterval","res","clearInterval","setTimeout","catch","finally","loader","EditProfilePopup","updateCurrentUser","setName","description","setDescription","windowId","Object","assign","htmlFor","value","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","avatarInput","AddPlacePopup","addNewCard","setLink","ConfirmPopup","confirmDelete","setPosition","setFromEvent","clientX","clientY","removeEventListener","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEnlargeAvatarPopupOpen","setIsEnlargeAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCardsData","key","callback","condition","callbackRef","document","handle","code","getUserInfo","a","getProfile","callData","console","log","getCards","getInitialCards","dislikePhoto","newCardData","result","likePhoto","handleDeleteCard","deleteCardPost","filter","handleAddCard","postNewCard","Cards","concat","error","handleClose","handleUpdateUserData","data","updateProfile","handleUpdateAvatarImage","updateProfilePhoto","index","findIndex","parseInt","Provider","cardClicked","setUserData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c2a2288.chunk.js","sourcesContent":["import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","const customFetch = (url, properties) =>\n  fetch(url, properties).then((response) => {\n    if (response.ok) return response.json();\n    return Promise.reject(\n      `Failed with status:( ${response.status} ${response.statusText} )`\n    );\n  });\n\nclass Api {\n  constructor({ groupId, apiKey, baseUrl }) {\n    this.groupId = groupId;\n    this.apiKey = apiKey;\n    this.baseUrl = baseUrl;\n  }\n\n  getInitialCards() {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  postNewCard(cardData) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/`, {\n      method: \"POST\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${cardData.name}`,\n        link: `${cardData.link}`,\n      }),\n    });\n  }\n\n  deleteCardPost(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  getProfile() {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  updateProfile({ name, about }) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`,\n        _id: `${this.apiKey}`,\n        cohort: `${this.groupId}`,\n      }),\n    });\n  }\n\n  updateProfilePhoto(avatarLink) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: `${avatarLink}`,\n      }),\n    });\n  }\n\n  likePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  dislikePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"Delete\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n}\nconst options = {\n  baseUrl: \"https://around.nomoreparties.co/v1/\",\n  apiKey: \"69483cc0-2fd4-4d47-b549-ff7c13f67c88\",\n  groupId: \"group-12\",\n};\n\nconst api = new Api(options);\nexport default api;\n","export default __webpack_public_path__ + \"static/media/Logo_vector.e57222ff.svg\";","import logo from \"../assets/icons/Logo_vector.svg\";\n\nconst Header = () => {\n  return (\n    <header className='header'>\n      <img className='header__logo' src={logo} alt=\"site's logo\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import { createRef, useEffect, useState } from \"react\";\nimport { useMousePosition } from \"./App\";\n\nconst Likes = ({ likes, target, isOver }) => {\n  const likesRef = createRef();\n  const position = useMousePosition();\n  const selfLike = likes.some((item) => item._id === target) ? \"you \" : \"\";\n  const [likesUpdated, setLikesUpdated] = useState();\n\n  // console.log(position)\n  useEffect(() => {\n    if (isOver) {\n      likesRef.current.style.top = `${position.y - likesRef.current.offsetHeight}px`;\n      window.innerWidth < 767 ?\n        likesRef.current.style.left = `${position.x - likesRef.current.offsetWidth}px` :\n        likesRef.current.style.left = `${position.x}px`;\n    }\n  }, [isOver, position, likesRef])\n\n  useEffect(() => {\n    setLikesUpdated(selfLike ? likes.length - 1 : likes.length);\n  }, [selfLike, likes])\n\n  const renderLike = (like) => {\n    if (like._id !== target)\n      return (<div className=\"likes__owner\" key={like._id}>\n        <img className=\"likes__owner-image\" src={like.avatar} alt={`Profile pictue of ${like.name}`} />\n        <p className=\"likes__owner-name\">{like.name}</p>\n      </div >)\n  }\n\n  return (\n    <div ref={likesRef} className=\"likes\">\n      <div className=\"likes__container\">{(likes.length <= 3) ? likes.map((like) => renderLike(like)) : likes.slice(0, 3).map((like) =>\n        renderLike(like))}</div>\n      {likesUpdated > 3 ? (<span className=\"likes__info\">{`${selfLike}and ${(likesUpdated - 3)} others liked this`}</span>) : (<span className=\"likes__info\">{` ${likesUpdated && selfLike ? \"and \" : \"\"}${selfLike}liked this`}</span>)}\n    </div >\n  )\n}\n\nexport default Likes;\n","import { useState, useEffect, createRef, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nimport Likes from \"./Likes\";\n\nconst Card = ({ cardData, onClick, onCardLike, onCardDelete }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const [isOver, setIsOver] = useState(false);\n  const tooltip = createRef();\n\n  const { name, likes, link, _id: id } = cardData;\n\n  const liked = likes.some((like) => like._id === currentUser._id);\n\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n\n  useEffect(() => {\n    setIsTooltipShown(\n      tooltip.current.clientWidth < tooltip.current.scrollWidth\n    );\n  }, [tooltip]);\n\n  const handleLikeClick = () => onCardLike(id, liked);\n\n  function handleClick() {\n    return onClick(cardData);\n  }\n\n  return (\n    <div className='card'>\n      {cardData.owner._id === currentUser._id && (\n        <button\n          className='button button_type_delete'\n          type='click'\n          onClick={() => onCardDelete(cardData)}\n        ></button>\n      )}\n      <img\n        alt={name}\n        src={link}\n        className='card__image'\n        onClick={handleClick}\n      />\n      <div className='card__footer'>\n        <h2 ref={tooltip} className='card__text'>\n          {name}\n        </h2>\n\n        <div\n          className='card__likes-container'\n          onMouseLeave={() => {\n            setIsOver(false);\n          }}\n        >\n          {likes.length ? (\n            <Likes\n              target={currentUser._id}\n              likes={likes}\n              isOver={isOver}\n              key={id ? id : null}\n            />\n          ) : (\n            \"\"\n          )}\n          <button\n            className={`button card__like-button ${\n              liked && \"card__like-button_active\"\n            }`}\n            id='likebtn'\n            aria-label='heart icon (like)'\n            onClick={handleLikeClick}\n            onMouseOver={() => {\n              setIsOver(true);\n            }}\n          />\n          <label\n            className='card__like-label'\n            style={{ visibility: likes.length ? \"visible\" : \"hidden\" }}\n          >\n            {likes.length}\n          </label>\n        </div>\n        {isTooltipShown && <div className='card__overflow-tooltip'>{name}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/avatar_photo.15862bec.png\";","import Card from \"./Card\";\nimport profilePhoto from \"../assets/images/avatar_photo.png\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  onEditProfileClick,\n  onAddPlaceClick,\n  onEditAvatarClick,\n  onEnlargeAvatarClick,\n  onCardClick,\n  handleCardLike,\n  cardsData,\n  onDeleteClick,\n}) => {\n  //card Component template\n  const renderCard = (item) => (\n    <Card\n      onClick={onCardClick}\n      cardData={item}\n      onCardLike={handleCardLike}\n      onCardDelete={onDeleteClick}\n      key={item._id}\n    />\n  );\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div>\n      <main>\n        <section className='profile'>\n          <div className='profile__photo-container'>\n            <img\n              className='profile__photo'\n              src={currentUser ? currentUser.avatar : profilePhoto}\n              alt={\n                currentUser\n                  ? `Photo of ${currentUser.name}`\n                  : \"Photo of Kristine Weiss\"\n              }\n            />\n            <div className='profile__photo-buttons'>\n              <button\n                className='button button_type_edit-profile-image'\n                onClick={onEditAvatarClick}\n              ></button>\n              <button\n                className='button button_type_enlarge-profile-image'\n                onClick={() => {\n                  onEnlargeAvatarClick(currentUser);\n                }}\n              ></button>\n            </div>\n          </div>\n          <div className='profile__description'>\n            <h1 className='profile__name'>\n              {currentUser ? currentUser.name : \"Kristine Weiss\"}\n            </h1>\n            <button\n              className='button profile__button-edit'\n              type='button'\n              aria-label='Edit profile'\n              onClick={onEditProfileClick}\n            ></button>\n            <p className='profile__about'>\n              {currentUser\n                ? currentUser.about\n                : \"Travel guide, food enthusiastic and culture lover\"}\n            </p>\n          </div>\n          <button\n            className='button profile__button-add'\n            type='button'\n            aria-label='Add or create new profile'\n            onClick={onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className='locations'>\n          {cardsData.map((card) => renderCard(card))}\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <div>\n      <footer className='footer'>\n        <p className='footer__about'>&copy; 2021 Around The U.S.</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default Footer;\n","const ImagePopup = ({\n  navigation,\n  targetObj,\n  isOpen,\n  onClose,\n  id,\n  useKey,\n  goLeft,\n  goRight,\n}) => {\n  const navigationArrows = [\n    <div\n      key='leftNav'\n      className='navigation-arrow navigation-arrow_left'\n      onClick={goLeft}\n    ></div>,\n    <div\n      key='rightNav'\n      className='navigation-arrow navigation-arrow_right'\n      onClick={goRight}\n    ></div>,\n  ];\n\n  useKey(\"ArrowRight\", goRight, isOpen);\n  useKey(\"ArrowLeft\", goLeft, isOpen);\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <div\n      className={`popup popup_gallery ${isOpen ? \"popup_active\" : \"\"}`}\n      onClick={onClose}\n    >\n      <div\n        className='popup__gallery'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <img\n          className='popup__img'\n          src={\n            !targetObj\n              ? null\n              : targetObj.link\n              ? targetObj.link\n              : targetObj.avatar\n              ? targetObj.avatar\n              : \"\"\n          }\n          alt={!targetObj ? null : targetObj.name}\n        />\n        <h2 className='popup__place-name'>\n          {!targetObj ? null : targetObj.name}\n        </h2>\n        {navigation && navigationArrows}\n      </div>\n    </div>\n  );\n};\n\nexport default ImagePopup;\n","//FormValidator Class - > Added\nclass FormValidator {\n  constructor(formElement) {\n    this._settings = {\n      formInput: \"form__input\",\n      inputStatus: \"form__input_status\",\n      submitSelector: \"button_type_submit\",\n      disabledButton: \"button_disabled\",\n      inputErrorActive: \"form__input-error_active\",\n    };\n    this._formElement = formElement;\n  }\n  //<<START>>public methods of form validation.<<START>>\n  enableValidation() {\n    return this._setEventListeners();\n  }\n\n  resetValidation = () => {\n    const { inputStatus } = this._settings;\n    this._inputList.forEach((input) => {\n      this._deactivateError(input);\n      input.classList.remove(`${inputStatus}`);\n    });\n    this._controlSubmit(true);\n    return this._element;\n  };\n  //<<END>>public methods of form validation.<<END>>\n  //<<START>> Error messages and button controls <<START>>\n  _deactivateError = (input) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.remove(this._settings.inputErrorActive);\n    errorField.textContent = \"\";\n  };\n  _activateError = (input, message) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.add(this._settings.inputErrorActive);\n    errorField.textContent = message;\n  };\n  //Controls the status of the submit button, gets form inputs status from checkIfInputValid\n  _controlSubmit = (formStatus) => {\n    const { submitSelector, disabledButton } = this._settings;\n    const submitButton = this._formElement.querySelector(`.${submitSelector}`);\n\n    if (formStatus) {\n      submitButton.classList.add(disabledButton);\n      submitButton.setAttribute(\"disabled\", true);\n    } else {\n      submitButton.classList.remove(disabledButton);\n      submitButton.removeAttribute(\"disabled\");\n    }\n  };\n  _checkIfInputValid = (evt) => {\n    const input = evt.target;\n    input.classList.add(this._settings.inputStatus);\n    if (!input.validity.valid) {\n      this._activateError(input, input.validationMessage);\n    } else {\n      this._deactivateError(input);\n    }\n\n    const formStatus = this._inputList.some((item) => !item.validity.valid);\n    return this._controlSubmit(formStatus);\n  };\n  //<<END>> Error messages control <<END>>\n  //<<START>> Listeners control <<START>>\n  _setEventListeners = () => {\n    const { formInput } = this._settings;\n    this._inputList = Array.from(\n      this._formElement.querySelectorAll(`.${formInput}`)\n    );\n    this._formElement.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n    });\n    this._formElement.addEventListener(\"reset\", this.resetValidation);\n    this._inputList.forEach((input) => {\n      input.addEventListener(\"input\", this._checkIfInputValid);\n    });\n    return this._element;\n  };\n\n  //<<END>> Listeners control <<END>>\n}\n\nexport default FormValidator;\n","function getButtonText(buttonText, tail, button) {\n  return /\\w*e\\b/.test(buttonText)\n    ? /\\w*e\\b/.exec(buttonText).toString().replace(/\\w\\b/, tail)\n    : button.textContent.toString() + tail;\n}\n\nexport const loader = ({\n  dots,\n  completeTimeDelay,\n  buttonSelector,\n  clickHandler,\n  callbackEnd = () => {},\n  onError = () => {},\n  onSuccess = () => {},\n}) => {\n  const { interval, count } = dots;\n  const button = buttonSelector;\n  button.setAttribute(\"disabled\", true);\n  const buttonText = button.textContent.toString();\n  const buttonStateProcessing = getButtonText(buttonText, \"ing\", button);\n  const buttonStateComplete = getButtonText(buttonText, \"ed\", button);\n\n  button.textContent = buttonStateProcessing;\n  const loop = () => {\n    button.textContent =\n      button.textContent.length > buttonStateProcessing.length + count\n        ? `${buttonStateProcessing}`\n        : button.textContent + \".\";\n  };\n  let intervalController = setInterval(loop, interval);\n\n  clickHandler()\n    .then((res) => {\n      clearInterval(intervalController);\n      button.textContent = `${buttonStateComplete} successfully`;\n      setTimeout(() => {\n        onSuccess();\n      }, completeTimeDelay);\n    })\n    .catch((res) => {\n      button.textContent = `Failed`;\n      setTimeout(\"\", completeTimeDelay * 2);\n      clearInterval(intervalController);\n    })\n    .finally(() => {\n      setTimeout(() => {\n        callbackEnd();\n      }, completeTimeDelay);\n\n      setTimeout(() => {\n        button.textContent = `${buttonText}`;\n        button.removeAttribute(\"disabled\");\n      }, completeTimeDelay * 2);\n    });\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport FormValidator from \"../utils/FormValidator\";\nimport { loader } from \"../utils/loader.js\";\n\nconst PopupWithForm = ({\n  children,\n  formName,\n  formHeader,\n  onClose,\n  id,\n  isOpen,\n  onSubmit,\n  validate,\n  buttonText,\n}) => {\n  const [form, setForm] = useState();\n  const formRef = useRef();\n  const buttonRef = useRef();\n\n  useEffect(() => {\n    if (validate) {\n      const validatedForm = new FormValidator(formRef.current);\n      validatedForm.enableValidation();\n      setForm(validatedForm);\n    } else { formRef.current.style.margin = \"0 auto\" }\n  }, [validate]);\n\n  useEffect(() => {\n    if (form && isOpen) form.resetValidation();\n  }, [isOpen, form]);\n\n  return (\n    <div className={`popup ${isOpen ? \"popup_active\" : \"\"}`} onClick={onClose}>\n      <div\n        className='popup__window'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <h2 className='popup__title'>{formHeader}</h2>\n        <form\n          className='form'\n          ref={formRef}\n          name={`${formName}`}\n          onSubmit={(e) => {\n            e.preventDefault();\n            loader({\n              dots: {\n                interval: 75,\n                count: 4,\n              },\n              completeTimeDelay: 400,\n              buttonSelector: buttonRef.current,\n              clickHandler: () => {\n                return onSubmit();\n              },\n              onSuccess: () => {\n                onClose();\n              },\n            });\n          }}\n        >\n          {children}\n          <button\n            className='button button_type_submit'\n            type='submit'\n            ref={buttonRef}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nconst EditProfilePopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, isOpen]);\n\n  const formSubmit = () => {\n    return updateCurrentUser(\n      Object.assign({}, currentUser, { name: name, about: description })\n    );\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-edit'\n      formHeader='Edit Profile'\n      formName='editWindow'\n      onSubmit={formSubmit}\n      validate={true}\n      buttonText='Save'\n    >\n      <label htmlFor='name' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='name'\n          id='name'\n          value={name || \"\"}\n          placeholder='Insert name here...'\n          required\n          minLength='2'\n          maxLength='40'\n          onChange={(e) => setName(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n      <label htmlFor='about' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='about'\n          id='about'\n          value={description || \"\"}\n          placeholder='Insert job here...'\n          required\n          minLength='2'\n          maxLength='200'\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import { useContext, useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const avatarInput = useRef();\n\n  //fills the field on open with current value.\n  useEffect(() => {\n    if (isOpen) avatarInput.current.value = currentUser.avatar;\n  }, [currentUser, isOpen]);\n\n  const formSubmit = () => {\n    return updateCurrentUser(\n      Object.assign({}, currentUser, { avatar: avatarInput.current.value })\n    );\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-editpic'\n      formHeader='Change profile picture'\n      formName='editprofpic'\n      onSubmit={formSubmit}\n      validate={true}\n      buttonText='Update'\n    >\n      <label htmlFor='pictureurl' className='form__field'>\n        <input\n          ref={avatarInput}\n          className='form__input'\n          type='url'\n          name='avatar'\n          id='pictureurl'\n          placeholder='insert url for picture'\n          required\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, addNewCard, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const fromSubmit = () => {\n    return addNewCard({ name, link });\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      setName(\"\");\n      setLink(\"\");\n    }\n  }, [isOpen]);\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-add'\n      formHeader='New place'\n      formName='addWindow'\n      onSubmit={fromSubmit}\n      validate={true}\n      buttonText='Add'\n    >\n      <label htmlFor='place-title' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='name'\n          id='place-title'\n          placeholder='Title'\n          value={name}\n          required\n          minLength='1'\n          maxLength='30'\n          onChange={(e) => setName(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n      <label htmlFor='image-link' className='form__field'>\n        <input\n          className='form__input'\n          type='url'\n          name='link'\n          id='image-link'\n          placeholder='Image link'\n          value={link}\n          required\n          onChange={(e) => setLink(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmPopup = ({ isOpen, onClose, confirmDelete }) => {\n  const onConfirm = () => {\n    return confirmDelete();\n  };\n\n  return (\n    <PopupWithForm\n      formName='confirmForm'\n      isOpen={isOpen}\n      id='w-confirm'\n      onClose={onClose}\n      formHeader='Are you sure?'\n      onSubmit={onConfirm}\n      validate={false}\n      buttonText='Delete'\n    />\n  );\n};\n\nexport default ConfirmPopup;\n","import { useEffect, useState, useRef } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\n//mousePosition\nexport const useMousePosition = () => {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const setFromEvent = (e) => setPosition({ x: e.clientX, y: e.clientY });\n    window.addEventListener(\"mousemove\", setFromEvent);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", setFromEvent);\n    };\n  }, []);\n\n  return position;\n};\nfunction App() {\n  //isOpened\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEnlargeAvatarPopupOpen, setIsEnlargeAvatarPopupOpen] =\n    useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  //data holding states\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardsData, setCardsData] = useState([]);\n\n\n\n\n\n  //function to add event listeners\n  function useKey(key, callback, condition) {\n    const callbackRef = useRef(callback);\n    useEffect(() => {\n      callbackRef.current = callback;\n    });\n\n    useEffect(() => {\n      if (!condition) {\n        return;\n      }\n      function handle(event) {\n        if (event.code === key) {\n          callbackRef.current(event);\n        }\n      }\n      document.addEventListener(\"keydown\", handle);\n      return () => document.removeEventListener(\"keydown\", handle);\n    }, [key, condition]);\n  }\n  //<<START>>data fetching functions <<START>>\n  const getUserInfo = async () => {\n    try {\n      const callData = await api.getProfile();\n      callData && setCurrentUser(callData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCards = async () => {\n    try {\n      const callData = await api.getInitialCards();\n      callData && setCardsData(callData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  //<<END>>data fetching functions <<END>>\n  //<<START>>Card actions handles<<START>>\n  const handleCardLike = async (id, status) => {\n    if (status)\n      try {\n        const result = await api\n          .dislikePhoto(id)\n          .then((newCardData) =>\n            cardsData.map(\n              (card) =>\n                (card = newCardData._id === card._id ? newCardData : card)\n            )\n          );\n        setCardsData(result);\n      } catch (error) {\n        console.log(error);\n      }\n    else\n      try {\n        const result = await api\n          .likePhoto(id)\n          .then((newCardData) =>\n            cardsData.map(\n              (card) =>\n                (card = newCardData._id === card._id ? newCardData : card)\n            )\n          );\n        setCardsData(result);\n      } catch (error) {\n        console.log(error);\n      }\n  };\n\n  const handleDeleteCard = async () => {\n    const id = selectedCard._id;\n    try {\n      await api.deleteCardPost(id);\n      return setCardsData(cardsData.filter((card) => card._id !== id));\n    } catch (error) {\n      return Promise.reject(error)\n    }\n  };\n\n  const handleAddCard = async (card) => {\n    try {\n      await api.postNewCard(card).then((res) =>\n        setCardsData((Cards) => {\n          return [res].concat(Cards)\n        })).catch((error) => Promise.reject(error))\n    } catch (error) {\n      return Promise.reject(error)\n    }\n  };\n  //<<END>>Card actions handles<<END>>\n  //<<START>>Window openers & closers<<START>>\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEnlargeAvatarClick = (currentUser) => {\n    setCurrentUser(currentUser);\n    setIsEnlargeAvatarPopupOpen(true);\n  };\n\n  const handleCardClick = (cardClicked) => {\n    setSelectedCard(cardClicked);\n    setIsImagePopupOpen(true);\n  };\n  const handleDeleteClick = (cardClicked) => {\n    setSelectedCard(cardClicked);\n    setIsConfirmPopupOpen(true);\n  };\n\n  // };\n  const handleClose = () => {\n    setIsImagePopupOpen(false);\n    setIsEnlargeAvatarPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  };\n  //<<END>>Window openers & closers<<END>>\n  //<<START>>Profile updating handlers<<START>>\n  const handleUpdateUserData = async (data) => {\n    try {\n      return api\n        .updateProfile(data)\n        .then((res) => { setCurrentUser(res) })\n        .catch((error) => Promise.reject(error));\n\n    } catch (error) { return Promise.reject(error) }\n  };\n\n  const handleUpdateAvatarImage = async (data) => {\n    try {\n      return await api\n        .updateProfilePhoto(data.avatar).then(res => { setCurrentUser(res) })\n        .catch((error) => Promise.reject(error))\n\n    } catch (error) { return Promise.reject(error) }\n  };\n  //<<END>>Profile updating handlers<<END>>\n  //<<START>>Navigation handlers<<START>>\n  const goLeft = () => {\n    let index = cardsData.findIndex((item) => item === selectedCard);\n    index =\n      parseInt(index - 1) >= 0 ? parseInt(index - 1) : cardsData.length - 1;\n    setSelectedCard(cardsData[index]);\n  };\n  const goRight = () => {\n    let index = cardsData.findIndex((item) => item === selectedCard);\n    index =\n      parseInt(index + 1) <= cardsData.length - 1 ? parseInt(index + 1) : 0;\n    setSelectedCard(cardsData[index]);\n  };\n  //<<END>>Navigation handlers<<END>>\n\n  //initialization\n  useEffect(() => {\n    getCards();\n    getUserInfo();\n  }, []);\n\n  return (\n    <div className='page'>\n      <div className='page__wrap'>\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            onEnlargeAvatarClick={handleEnlargeAvatarClick}\n            onCardClick={handleCardClick}\n            setUserData={handleUpdateUserData}\n            handleCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n            cardsData={cardsData}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateUserData}\n            useKey={useKey}\n          />\n\n          <AddPlacePopup\n            isOpen={isPlacePopupOpen}\n            onClose={handleClose}\n            addNewCard={handleAddCard}\n            useKey={useKey}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateAvatarImage}\n            useKey={useKey}\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={handleClose}\n            id='w-img'\n            targetObj={selectedCard}\n            navigation={true}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ImagePopup\n            isOpen={isEnlargeAvatarPopupOpen}\n            onClose={handleClose}\n            id='w-piclrg'\n            targetObj={currentUser}\n            navigation={false}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ConfirmPopup\n            isOpen={isConfirmPopupOpen}\n            onClose={handleClose}\n            confirmDelete={handleDeleteCard}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}