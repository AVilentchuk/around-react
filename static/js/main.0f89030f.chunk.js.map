{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","assets/icons/Logo_vector.svg","components/Header.js","components/Card.js","assets/images/avatar_photo.png","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/FormValidator.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","customFetch","url","properties","fetch","then","response","ok","json","Promise","reject","status","statusText","catch","error","console","log","mainApi","groupId","apiKey","baseUrl","this","headers","authorization","cardData","method","body","JSON","stringify","name","link","cardId","about","_id","cohort","avatarLink","avatar","Header","className","src","logo","alt","Card","onClick","onCardLike","onCardDelete","currentUser","useContext","tooltip","createRef","likes","id","liked","some","like","useState","isTooltipShown","setIsTooltipShown","useEffect","current","clientWidth","scrollWidth","owner","type","ref","style","visibility","length","Main","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","onEnlargeAvatarClick","onCardClick","handleCardLike","cardsData","onDeleteClick","profilePhoto","map","card","item","Footer","ImagePopup","navigation","targetObj","isOpen","onClose","useKey","goLeft","goRight","navigationArrows","event","stopPropagation","FormValidator","formElement","resetValidation","inputStatus","_settings","_inputList","forEach","input","_deactivateError","classList","remove","_controlSubmit","_element","errorField","nextElementSibling","inputErrorActive","textContent","_activateError","message","add","formStatus","submitSelector","disabledButton","submitButton","_formElement","querySelector","setAttribute","removeAttribute","_checkIfInputValid","evt","target","validity","valid","validationMessage","_setEventListeners","formInput","Array","from","querySelectorAll","addEventListener","preventDefault","PopupWithForm","children","formName","formHeader","onSubmit","form","useCallback","formNode","validatedForm","enableValidation","EditProfilePopup","updateCurrentUser","setName","description","setDescription","windowId","e","Object","assign","htmlFor","value","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","avatarInput","useRef","AddPlacePopup","addNewCard","setLink","ConfirmPopup","confirmDelete","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEnlargeAvatarPopupOpen","setIsEnlargeAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCardsData","key","callback","condition","callbackRef","document","handle","removeEventListener","code","getUserInfo","a","api","getProfile","callData","getCards","getInitialCards","dislikePhoto","newCardData","result","likePhoto","handleDeleteCard","deleteCardPost","filter","handleAddCard","postNewCard","newCard","Cards","concat","handleClose","handleUpdateUserData","data","updateProfile","index","findIndex","parseInt","Provider","cardClicked","setUserData","updateProfilePhoto","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0f89030f.chunk.js","sourcesContent":["import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","const customFetch = (url, properties) => {\n  return fetch(url, properties)\n    .then((response) => {\n      if (response.ok) return response.json();\n      return Promise.reject(\n        `Failed with status:( ${response.status} ${response.statusText})`\n      );\n    })\n    .catch((error) => console.log(error));\n};\n\nclass Api {\n  constructor({ groupId, apiKey, baseUrl }) {\n    this.groupId = groupId;\n    this.apiKey = apiKey;\n    this.baseUrl = baseUrl;\n  }\n\n  getInitialCards() {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  postNewCard(cardData) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/`, {\n      method: \"POST\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${cardData.name}`,\n        link: `${cardData.link}`,\n      }),\n    });\n  }\n\n  deleteCardPost(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  getProfile() {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  updateProfile({ name, about }) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`,\n        _id: `${this.apiKey}`,\n        cohort: `${this.groupId}`,\n      }),\n    });\n  }\n\n  updateProfilePhoto(avatarLink) {\n    return customFetch(`${this.baseUrl}${this.groupId}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: `${avatarLink}`,\n      }),\n    });\n  }\n\n  likePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n\n  dislikePhoto(cardId) {\n    return customFetch(`${this.baseUrl}${this.groupId}/cards/likes/${cardId}`, {\n      method: \"Delete\",\n      headers: {\n        authorization: `${this.apiKey}`,\n      },\n    });\n  }\n}\nconst options = {\n  baseUrl: \"https://around.nomoreparties.co/v1/\",\n  apiKey: \"69483cc0-2fd4-4d47-b549-ff7c13f67c88\",\n  groupId: \"group-12\",\n};\n\nconst mainApi = new Api(options);\nexport default mainApi;\n","export default __webpack_public_path__ + \"static/media/Logo_vector.e57222ff.svg\";","import logo from \"../assets/icons/Logo_vector.svg\";\n\nconst Header = () => {\n  return (\n    <div>\n      <header className='header'>\n        <img className='header__logo' src={logo} alt=\"site's logo\" />\n      </header>\n    </div>\n  );\n};\n\nexport default Header;\n","import { useState, useEffect, createRef, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ cardData, onClick, onCardLike, onCardDelete }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const tooltip = createRef();\n  const { name, likes, link, _id: id } = cardData;\n\n  const liked = likes.some((like) => like._id === currentUser._id);\n\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n\n  useEffect(() => {\n    setIsTooltipShown(\n      tooltip.current.clientWidth < tooltip.current.scrollWidth\n    );\n  }, [tooltip]);\n\n  const handleLikeClick = () => onCardLike(id, liked);\n\n  function handleClick() {\n    return onClick(cardData);\n  }\n\n  return (\n    <div>\n      {/* {console.log(likes)} */}\n      <div className='card'>\n        {cardData.owner._id === currentUser._id && (\n          <button\n            className='button button_type_delete'\n            type='click'\n            onClick={() => onCardDelete(cardData)}\n          ></button>\n        )}\n        <img\n          alt={name}\n          src={link}\n          className='card__image'\n          onClick={handleClick}\n        />\n        <div className='card__footer'>\n          <h2 ref={tooltip} className='card__text'>\n            {name}\n          </h2>\n          <div className='card__likes-container'>\n            <button\n              className={`button card__like-button ${\n                liked && \"card__like-button_active\"\n              }`}\n              id='likebtn'\n              aria-label='heart icon (like)'\n              onClick={handleLikeClick}\n            />\n            <label\n              className='card__like-label'\n              style={{ visibility: likes.length ? \"visible\" : \"hidden\" }}\n            >\n              {likes.length}\n            </label>\n          </div>\n          {isTooltipShown && (\n            <div className='card__overflow-tooltip'>{name}</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/avatar_photo.15862bec.png\";","import Card from \"./Card\";\nimport profilePhoto from \"../assets/images/avatar_photo.png\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  onEditProfileClick,\n  onAddPlaceClick,\n  onEditAvatarClick,\n  onEnlargeAvatarClick,\n  onCardClick,\n  handleCardLike,\n  cardsData,\n  onDeleteClick,\n}) => {\n  //card Component template\n  const renderCard = (item) => (\n    <Card\n      onClick={onCardClick}\n      cardData={item}\n      onCardLike={handleCardLike}\n      onCardDelete={onDeleteClick}\n      key={item._id}\n    />\n  );\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div>\n      <main>\n        <section className='profile'>\n          <div className='profile__photo-container'>\n            <img\n              className='profile__photo'\n              src={currentUser ? currentUser.avatar : profilePhoto}\n              alt={\n                currentUser\n                  ? `Photo of ${currentUser.name}`\n                  : \"Photo of Kristine Weiss\"\n              }\n            />\n            <div className='profile__photo-buttons'>\n              <button\n                className='button button_type_edit-profile-image'\n                onClick={onEditAvatarClick}\n              ></button>\n              <button\n                className='button button_type_enlarge-profile-image'\n                onClick={() => {\n                  onEnlargeAvatarClick(currentUser);\n                }}\n              ></button>\n            </div>\n          </div>\n          <div className='profile__description'>\n            <h1 className='profile__name'>\n              {currentUser ? currentUser.name : \"Kristine Weiss\"}\n            </h1>\n            <button\n              className='button profile__button-edit'\n              type='button'\n              aria-label='Edit profile'\n              onClick={onEditProfileClick}\n            ></button>\n            <p className='profile__about'>\n              {currentUser\n                ? currentUser.about\n                : \"Travel guide, food enthusiastic and culture lover\"}\n            </p>\n          </div>\n          <button\n            className='button profile__button-add'\n            type='button'\n            aria-label='Add or create new profile'\n            onClick={onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className='locations'>\n          {cardsData.map((card) => renderCard(card))}\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <div>\n      <footer className='footer'>\n        <p className='footer__about'>&copy; 2020 Around The U.S.</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default Footer;\n","const ImagePopup = ({\n  navigation,\n  targetObj,\n  isOpen,\n  onClose,\n  id,\n  useKey,\n  goLeft,\n  goRight,\n}) => {\n  const navigationArrows = [\n    <div\n      key='leftNav'\n      className='navigation-arrow navigation-arrow_left'\n      onClick={goLeft}\n    ></div>,\n    <div\n      key='rightNav'\n      className='navigation-arrow navigation-arrow_right'\n      onClick={goRight}\n    ></div>,\n  ];\n\n  useKey(\"ArrowRight\", goRight, isOpen);\n  useKey(\"ArrowLeft\", goLeft, isOpen);\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <div\n      className={`popup popup_gallery ${isOpen ? \"popup_active\" : \"\"}`}\n      onClick={onClose}\n    >\n      <div\n        className='popup__gallery'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <img\n          className='popup__img'\n          src={\n            !targetObj\n              ? null\n              : targetObj.link\n              ? targetObj.link\n              : targetObj.avatar\n              ? targetObj.avatar\n              : \"\"\n          }\n          alt={!targetObj ? null : targetObj.name}\n        />\n        <h2 className='popup__place-name'>\n          {!targetObj ? null : targetObj.name}\n        </h2>\n        {navigation && navigationArrows}\n      </div>\n    </div>\n  );\n};\n\nexport default ImagePopup;\n","//FormValidator Class - > Added\nclass FormValidator {\n  constructor(formElement) {\n    this._settings = {\n      formInput: \"form__input\",\n      inputStatus: \"form__input_status\",\n      submitSelector: \"button_type_submit\",\n      disabledButton: \"button_disabled\",\n      inputErrorActive: \"form__input-error_active\",\n    };\n    this._formElement = formElement;\n  }\n  //<<START>>public methods of form validation.<<START>>\n  enableValidation() {\n    return this._setEventListeners();\n  }\n\n  resetValidation = () => {\n    const { inputStatus } = this._settings;\n    this._inputList.forEach((input) => {\n      this._deactivateError(input);\n      input.classList.remove(`${inputStatus}`);\n    });\n    this._controlSubmit(true);\n    return this._element;\n  };\n  //<<END>>public methods of form validation.<<END>>\n  //<<START>> Error messages and button controls <<START>>\n  _deactivateError = (input) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.remove(this._settings.inputErrorActive);\n    errorField.textContent = \"\";\n  };\n  _activateError = (input, message) => {\n    const errorField = input.nextElementSibling;\n    errorField.classList.add(this._settings.inputErrorActive);\n    errorField.textContent = message;\n  };\n  //Controls the status of the submit button, gets form inputs status from checkIfInputValid\n  _controlSubmit = (formStatus) => {\n    const { submitSelector, disabledButton } = this._settings;\n    const submitButton = this._formElement.querySelector(`.${submitSelector}`);\n\n    if (formStatus) {\n      submitButton.classList.add(disabledButton);\n      submitButton.setAttribute(\"disabled\", true);\n    } else {\n      submitButton.classList.remove(disabledButton);\n      submitButton.removeAttribute(\"disabled\");\n    }\n  };\n  _checkIfInputValid = (evt) => {\n    const input = evt.target;\n    input.classList.add(this._settings.inputStatus);\n    if (!input.validity.valid) {\n      this._activateError(input, input.validationMessage);\n    } else {\n      this._deactivateError(input);\n    }\n\n    const formStatus = this._inputList.some((item) => !item.validity.valid);\n    return this._controlSubmit(formStatus);\n  };\n  //<<END>> Error messages control <<END>>\n  //<<START>> Listeners control <<START>>\n  _setEventListeners = () => {\n    const { formInput } = this._settings;\n    this._inputList = Array.from(\n      this._formElement.querySelectorAll(`.${formInput}`)\n    );\n    this._formElement.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n    });\n    this._formElement.addEventListener(\"reset\", this.resetValidation);\n    this._inputList.forEach((input) => {\n      input.addEventListener(\"input\", this._checkIfInputValid);\n    });\n    return this._element;\n  };\n\n  //<<END>> Listeners control <<END>>\n}\n\nexport default FormValidator;\n","import { useCallback } from \"react\";\nimport FormValidator from \"../utils/FormValidator\";\nconst PopupWithForm = ({\n  children,\n  formName,\n  formHeader,\n  onClose,\n  id,\n  isOpen,\n  onSubmit,\n}) => {\n  //useCallback is practically combined useEffect and createRef. do ignore the \"unnecessary dependency: 'isOpen'\" warning.\n  //as it required to reset the form on reopening.\n  const form = useCallback(\n    (formNode) => {\n      if (formNode !== null) {\n        const validatedForm = new FormValidator(formNode);\n        validatedForm.enableValidation();\n        return validatedForm.resetValidation();\n      }\n    },\n    [isOpen]\n  );\n\n  return (\n    <div className={`popup ${isOpen ? \"popup_active\" : \"\"}`} onClick={onClose}>\n      <div\n        className='popup__window'\n        id={id}\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <h2 className='popup__title'>{formHeader}</h2>\n        <form className='form' ref={form} name={`${formName}`}>\n          {children}\n          <button\n            className='button button_type_submit'\n            type='submit'\n            onClick={onSubmit}\n          >\n            Save\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nconst EditProfilePopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    updateCurrentUser(\n      Object.assign({}, currentUser, { name: name, about: description })\n    );\n    onClose();\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-edit'\n      formHeader='Edit Profile'\n      formName='editWindow'\n      onSubmit={formSubmit}\n    >\n      <label htmlFor='name' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='name'\n          id='name'\n          value={name || \"\"}\n          placeholder='Insert name here...'\n          required\n          minLength='2'\n          maxLength='40'\n          onChange={(e) => setName(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n      <label htmlFor='about' className='form__field'>\n        <input\n          className='form__input'\n          type='text'\n          name='about'\n          id='about'\n          value={description || \"\"}\n          placeholder='Insert job here...'\n          required\n          minLength='2'\n          maxLength='200'\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import { useContext, useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, updateCurrentUser, useKey }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const avatarInput = useRef();\n\n  //fills the field on open with current value.\n  useEffect(() => {\n    avatarInput.current.value = currentUser.avatar;\n  }, [currentUser, isOpen]);\n  useEffect(() => {}, [isOpen]);\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    updateCurrentUser(\n      Object.assign({}, currentUser, { avatar: avatarInput.current.value })\n    );\n    onClose();\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      windowId='w-editpic'\n      formHeader='Change profile picture'\n      formName='editprofpic'\n      onSubmit={formSubmit}\n    >\n      <label htmlFor='pictureurl' className='form__field'>\n        <input\n          ref={avatarInput}\n          className='form__input'\n          type='url'\n          name='avatar'\n          id='pictureurl'\n          placeholder='insert url for picture'\n          required\n        />\n        <span className='form__input-error'></span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, addNewCard, useKey }) => {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const fromSubmit = (e) => {\n    e.preventDefault();\n    addNewCard({ name, link });\n    //resets form fields.\n    setName(\"\");\n    setLink(\"\");\n    onClose();\n  };\n\n  useKey(\"Escape\", onClose, isOpen);\n\n  return (\n    <div>\n      <PopupWithForm\n        isOpen={isOpen}\n        onClose={onClose}\n        windowId='w-add'\n        formHeader='New place'\n        formName='addWindow'\n        onSubmit={fromSubmit}\n      >\n        <label htmlFor='place-title' className='form__field'>\n          <input\n            className='form__input'\n            type='text'\n            name='name'\n            id='place-title'\n            placeholder='Title'\n            value={name}\n            required\n            minLength='1'\n            maxLength='30'\n            onChange={(e) => setName(e.target.value)}\n          />\n          <span className='form__input-error'></span>\n        </label>\n        <label htmlFor='image-link' className='form__field'>\n          <input\n            className='form__input'\n            type='url'\n            name='link'\n            id='image-link'\n            placeholder='Image link'\n            value={link}\n            required\n            onChange={(e) => setLink(e.target.value)}\n          />\n          <span className='form__input-error'></span>\n        </label>\n      </PopupWithForm>\n    </div>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nconst ConfirmPopup = ({ isOpen, onClose, confirmDelete }) => {\n  const onConfirm = () => {\n    confirmDelete();\n    onClose();\n  };\n  return (\n    <div className={`popup ${isOpen ? \"popup_active\" : \"\"}`} onClick={onClose}>\n      <div\n        className='popup__window'\n        id='w-confirm'\n        onClick={(event) => {\n          event.stopPropagation();\n        }}\n      >\n        <button\n          className='button button_type_close'\n          type='button'\n          aria-label='Close window'\n          onClick={onClose}\n        ></button>\n        <h2 className='popup__title'>Are you sure?</h2>\n        <button\n          className='button button_type_submit'\n          type='button'\n          onClick={onConfirm}\n        >\n          Delete\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmPopup;\n","import { useEffect, useState, useRef } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\n\nfunction App() {\n  //isOpened\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEnlargeAvatarPopupOpen, setIsEnlargeAvatarPopupOpen] =\n    useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false)\n  //data holding states\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardsData, setCardsData] = useState([]);\n\n  //function to add event listeners\n  function useKey(key, callback, condition) {\n    const callbackRef = useRef(callback);\n    useEffect(() => {\n      callbackRef.current = callback;\n    })\n\n    useEffect(() => {\n      if (!condition) { return; }\n      function handle(event) {\n        if (event.code === key) {\n          callbackRef.current(event)\n        }\n      }\n      document.addEventListener(\"keydown\", handle);\n      return () => document.removeEventListener(\"keydown\", handle);\n    }, [key, condition])\n  }\n  //<<START>>data fetching functions <<START>>\n  const getUserInfo = async () => {\n    try {\n      const callData = await api.getProfile();\n      callData && setCurrentUser(callData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCards = async () => {\n    try {\n      const callData = await api.getInitialCards();\n      callData && setCardsData(callData)\n    }\n    catch (error) { console.log(error) }\n  }\n  //<<END>>data fetching functions <<END>>\n  //<<START>>Card actions handles<<START>>\n  const handleCardLike = async (id, status) => {\n    if (status)\n      try {\n        const result = await api.dislikePhoto(id).then(newCardData => (cardsData.map((card) => card = newCardData._id === card._id ? newCardData : card)))\n        setCardsData(result)\n      }\n      catch (error) { console.log(error) } else\n      try {\n        const result = await api.likePhoto(id).then(newCardData => (cardsData.map((card) => card = newCardData._id === card._id ? newCardData : card)))\n        setCardsData(result);\n      }\n      catch (error) { console.log(error) };\n  };\n\n  const handleDeleteCard = async () => {\n    const id = selectedCard._id;\n    try {\n      api.deleteCardPost(id).then(setCardsData(cardsData.filter(card => card._id !== id)))\n    }\n    catch (error) { console.log(error) }\n  }\n\n  const handleAddCard = async (card) => {\n    try {\n      const newCard = await api.postNewCard(card)\n      setCardsData(Cards => {\n        return [newCard].concat(Cards)\n      })\n    }\n    catch (error) { console.log(error) }\n  }\n  //<<END>>Card actions handles<<END>>\n  //<<START>>Window openers & closers<<START>>\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEnlargeAvatarClick = (currentUser) => {\n    setCurrentUser(currentUser);\n    setIsEnlargeAvatarPopupOpen(true);\n  };\n\n  const handleCardClick = (cardClicked) => {\n    setSelectedCard(cardClicked);\n    setIsImagePopupOpen(true);\n  };\n  const handleDeleteClick = (cardClicked) => {\n    setSelectedCard(cardClicked)\n    setIsConfirmPopupOpen(true)\n  };\n\n\n  // };\n  const handleClose = () => {\n    setIsImagePopupOpen(false);\n    setIsEnlargeAvatarPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  };\n  //<<END>>Window openers & closers<<END>>\n  //<<START>>Profile updating handlers<<START>>\n  const handleUpdateUserData = (data) => {\n    api.updateProfile(data).then(setCurrentUser(data));\n  };\n\n  const handleUpdateAvatarImage = (data) => {\n    api.updateProfilePhoto(data.avatar).then(setCurrentUser(data));\n  };\n  //<<END>>Profile updating handlers<<END>>\n  //<<START>>Navigation handlers<<START>>\n  const goLeft = () => {\n    let index = cardsData.findIndex(item => item === selectedCard);\n    index = parseInt(index - 1) >= 0 ? parseInt(index - 1) : cardsData.length - 1;\n    setSelectedCard(cardsData[index])\n  }\n  const goRight = () => {\n    let index = cardsData.findIndex(item => item === selectedCard);\n    index = parseInt(index + 1) <= cardsData.length - 1 ? parseInt(index + 1) : 0;\n    setSelectedCard(cardsData[index])\n  }\n  //<<END>>Navigation handlers<<END>>\n\n  //initialization\n  useEffect(() => {\n    getCards();\n    getUserInfo()\n  }, [])\n\n  return (\n    <div className='page'>\n      <div className='page__wrap'>\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            onEnlargeAvatarClick={handleEnlargeAvatarClick}\n            onCardClick={handleCardClick}\n            setUserData={handleUpdateUserData}\n            handleCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n            cardsData={cardsData}\n\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateUserData}\n            useKey={useKey}\n          />\n\n          <AddPlacePopup\n            isOpen={isPlacePopupOpen}\n            onClose={handleClose}\n            addNewCard={handleAddCard}\n            useKey={useKey}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleClose}\n            updateCurrentUser={handleUpdateAvatarImage}\n            useKey={useKey}\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={handleClose}\n            id='w-img'\n            targetObj={selectedCard}\n            navigation={true}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ImagePopup\n            isOpen={isEnlargeAvatarPopupOpen}\n            onClose={handleClose}\n            id='w-piclrg'\n            targetObj={currentUser}\n            navigation={false}\n            useKey={useKey}\n            goLeft={goLeft}\n            goRight={goRight}\n          />\n          <ConfirmPopup\n            isOpen={isConfirmPopupOpen}\n            onClose={handleClose}\n            confirmDelete={handleDeleteCard}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}